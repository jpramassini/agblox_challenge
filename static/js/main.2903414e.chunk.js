(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(e,t,a){},145:function(e,t,a){e.exports=a.p+"static/media/data_sample.fdd0e8e4.csv"},146:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(6),o=a.n(r),s=(a(82),a(25)),l=a(26),c=a(29),m=a(27),h=a(13),d=a(28),u=a(57),p=a(71),g=a.n(p),f=a(39),v=function(e){if(console.log(e),e.paramNames){var t=e.paramNames.map(function(t){return i.a.createElement("div",{style:{padding:"1%",borderRadius:"7px",boxShadow:"0 2px 4px 0 rgba(0,0,0,0.10)",justifySelf:"center",width:"100%",height:"100%",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700"},key:t},i.a.createElement("label",{style:{wordBreak:"word-wrap",fontSize:"1em"}},t),i.a.createElement("input",{type:"checkbox",name:t,value:t,checked:e.selectedParams.includes(t),onChange:e.onChecked}))});return i.a.createElement("div",{style:{height:"75%",width:"85%",margin:"auto",marginBottom:"5%",display:"grid",gridGap:"1.5em",gridTemplateColumns:"1fr",gridAutoRows:"1fr"}},t)}return i.a.createElement("div",null)},y=a(76),b=a(75),x=a.n(b),k=(a(141),["#4286f4","#eb6a5b","#0ece50","#fcea25","#fc9725","#282c34","#757171","#6316ce","#e03edb","#49ccbc","#1e196d","#541525","#155430","#542515","#996f38"]),w={duration:250,easing:"cubic-in-out"},C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={layout:{xaxis:{autoscale:!0},yaxis:{fixedrange:!0,autoscale:!0},transition:w,title:"",dataRevision:0},config:{scrollZoom:!0,autoScale:!0,responsive:!0,displaylogo:!1,modeBarButtonsToRemove:["toImage","select2d","lasso2d","toggleSpikelines"]}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.data?(console.log(this.props),i.a.createElement("div",{style:this.props.style},i.a.createElement(x.a,{style:{height:"98%",width:"98%",marginTop:"1%",marginBottom:"1%",marginRight:"1%",marginLeft:"1%"},data:this.state.data,layout:this.state.layout,config:this.state.config}))):i.a.createElement("div",null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e)return null;if(e.selectedParams){var a=Object(y.a)({},t.layout);return a.title=function(e){var t="",a=0,n=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;if(++a>4)return t+="...";e[e.length-1]===l?t+="".concat(l):t+="".concat(l,", ")}}catch(c){i=!0,r=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}return console.log(t),t}(e.selectedParams),{layout:a,data:function(e){var t=[];console.log(e.selectedParams);for(var a=function(){console.log(n);var a=e.selectedParams[n];console.log(typeof a),console.log(e.dateRange);var i=e.data[a].filter(function(t){return t.time>e.dateRange.min&&t.time<e.dateRange.max});console.log(i);var r={x:i.map(function(e){return e.time}),y:i.map(function(t,n){return a.includes("speed")&&"ref_speed"!==a?t.value*e.data.ref_speed[n].value:a.includes("ref_speed")?t.value:100*t.value}),name:a,mode:"markers",marker:{color:e.monochrome?"#282c34":k[n],maxdisplayed:1e3}};t.push(r)},n=0;n<e.selectedParams.length;n++)a();return console.log(t),t}(e)}}return null}}]),t}(n.Component),E=(a(143),f.a.createSliderWithTooltip(f.a.Range)),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={times:a.props.times,min:null,max:null,value:[]},a.initMinMax=a.initMinMax.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"initMinMax",value:function(){var e=this.state.times[0].getTime(),t=this.state.times[this.state.times.length-1].getTime(),a=[e,t];this.setState({value:a,min:e,max:t})}},{key:"handleChange",value:function(e){var t=new Date(e[0]),a=new Date(e[1]);this.props.setDateRange(t,a),this.setState({value:e})}},{key:"componentWillMount",value:function(){this.initMinMax()}},{key:"render",value:function(){return i.a.createElement(E,{style:{width:"85%",marginLeft:"auto",marginRight:"auto",marginBottom:"7%"},min:this.state.min,max:this.state.max,value:this.state.value,onChange:this.handleChange,allowCross:!1,tipProps:{placement:"bottom",prefixCls:"rc-slider-tooltip"},pushable:!0,tipFormatter:function(e){return new Date(e).toUTCString()}})}}]),t}(n.Component),j=(a(144),window.innerWidth<=500),O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={selectedParams:["speed_mph","snow_rate_in_hr"],paramNames:[],monochrome:!1,splitData:{},dateRange:{min:null,max:null}},a.updateData=a.updateData.bind(Object(h.a)(a)),a.handleColorChecked=a.handleColorChecked.bind(Object(h.a)(a)),a.handleParamChecked=a.handleParamChecked.bind(Object(h.a)(a)),a.setDateRange=a.setDateRange.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"parseData",value:function(){var e=a(145);g.a.parse(e,{header:!0,download:!0,skipEmptyLines:!0,dynamicTyping:!0,complete:this.updateData})}},{key:"setDateRange",value:function(e,t){var a={min:e,max:t};this.setState({dateRange:a}),console.log(a)}},{key:"setParamNames",value:function(){var e=Object.keys(this.state.data[0]);e.shift(),this.setState({paramNames:e})}},{key:"splitData",value:function(){var e={},t=!0,a=!1,n=void 0;try{for(var i,r=this.state.data[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value,s=!0,l=!1,c=void 0;try{for(var m,h=this.state.paramNames[Symbol.iterator]();!(s=(m=h.next()).done);s=!0){var d=m.value;void 0===e[d]&&(e[d]=[]),e[d].push({time:o.ts,value:o[d]})}}catch(u){l=!0,c=u}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}}}catch(u){a=!0,n=u}finally{try{t||null==r.return||r.return()}finally{if(a)throw n}}return e}},{key:"updateData",value:function(e){console.log(e);var t=u.a("%Y-%m-%d %H"),a=e.data.map(function(e){var a=e.ts;return e.ts=t(a),e});this.setState({data:a}),this.setParamNames(),this.setState({splitData:this.splitData()});var n=this.state.splitData.speed_mph.map(function(e){return e.time});this.setState({dateRange:{min:n[0],max:n[n.length-1]}}),console.log(this.state.splitData)}},{key:"handleParamChecked",value:function(e){var t=e.target.name,a=this.state.selectedParams;a.includes(t)?1!==a.length&&a.splice(a.indexOf(t),1):a.push(t),this.setState({selectedParams:a})}},{key:"componentWillMount",value:function(){this.parseData()}},{key:"handleColorChecked",value:function(e){this.setState({monochrome:!this.state.monochrome})}},{key:"render",value:function(){return console.log(this.state),0!==Object.entries(this.state.splitData).length&&null!==this.state.dateRange.min?i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("h2",null,"AgBlox Data Visualization Challenge"))," ",i.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"".concat(j?"1fr":"1fr 3fr"),gridGap:"25px",height:"85vh",width:"95vw",marginLeft:"2.5vw",marginRight:"2.5vw",marginTop:"2vh",marginBottom:"2vh"}},i.a.createElement("div",{style:{borderRadius:"20px",boxShadow:"0 15px 30px 0 rgba(0,0,0,0.11), 0 5px 15px 0 rgba(0,0,0,0.08)",minWidth:"350px",marginBottom:"2vh"}},i.a.createElement("h2",null,"Options"),i.a.createElement(v,{paramNames:this.state.paramNames,selectedParams:this.state.selectedParams,onChecked:this.handleParamChecked}),i.a.createElement("h4",{style:{marginTop:"10%"}},"Date Range"),i.a.createElement(D,{times:this.state.splitData.speed_mph.map(function(e){return e.time}),setDateRange:this.setDateRange}),i.a.createElement("label",{style:{fontWeight:700}},"Monochrome Mode"),i.a.createElement("input",{type:"checkbox",value:this.state.monochrome,onChange:this.handleColorChecked,style:{marginBottom:10}})),i.a.createElement(C,{style:{borderRadius:"20px",boxShadow:"0 15px 30px 0 rgba(0,0,0,0.11), 0 5px 15px 0 rgba(0,0,0,0.08)",minWidth:"350px"},monochrome:this.state.monochrome,data:this.state.splitData,selectedParams:this.state.selectedParams,dateRange:this.state.dateRange}))):i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("h2",null,"AgBlox Data Visualization Challenge"))," ",i.a.createElement("label",null,"Color"),i.a.createElement("input",{type:"checkbox",onChange:this.handleColorChecked}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},77:function(e,t,a){e.exports=a(146)},82:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.2903414e.chunk.js.map